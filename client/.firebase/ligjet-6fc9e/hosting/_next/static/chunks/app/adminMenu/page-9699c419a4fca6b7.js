(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[952],{4943:function(e,t,r){Promise.resolve().then(r.bind(r,195)),Promise.resolve().then(r.bind(r,1862)),Promise.resolve().then(r.bind(r,5218))},9951:function(e,t,r){"use strict";var n=r(3459);t.Z={register:async e=>{try{return(await n.Z.post("/users/register",e)).data}catch(e){throw e}},login:async e=>{try{console.log(e);let t=await n.Z.post("/users/login",e);return console.log(t.data),t.data}catch(e){throw e}},updateUser:async(e,t)=>{try{return(await n.Z.patch("/lawApp/users/update/".concat(t),{updateUser:e})).data}catch(e){throw e}},deleteUser:async e=>{try{return(await n.Z.delete("/users/delete/".concat(e))).data}catch(e){throw e}},getAllUsers:async e=>{try{return(await n.Z.get("/users/getAll",e)).data}catch(e){throw e}},getUserById:async e=>{try{return(await n.Z.get("/users/".concat(e))).data}catch(e){throw e}}}},3459:function(e,t,r){"use strict";let n=r(2126).Z.create({baseURL:"http://localhost:3006"});t.Z=n},1781:function(e,t,r){"use strict";var n=r(3459);t.Z={createPart:async e=>{try{return(await n.Z.post("/parts/create",e)).data}catch(e){throw e}},getAllParts:async e=>{try{return(await n.Z.get("/parts/getAll",e)).data.data}catch(e){throw e}},getPartBtId:async e=>{try{return await n.Z.get("/parts/".concat(e))}catch(e){throw e}},updatePart:async(e,t)=>{try{return await n.Z.patch("/parts/update/".concat(e),t)}catch(e){throw e}},deletePart:async e=>{try{return await n.Z.delete("/parts/delete/".concat(e))}catch(e){throw e}}}},8778:function(e,t,r){"use strict";r.d(t,{Z:function(){return E}});var n=r(7437),s=r(1733),i=r(639),a=r(9504),o=r(2265),l=r(8438),c=r(8379),d=r(8024),x=r(7999),h=r(9806),u=r(335),p=r(3719),Z=r(2030),j=r(2184),g=r(7300),w=r(3726),m=r(3597),y=r(4944),f=r(888),v=r(9216),b=r(6424),S=r(8125),k=r(5481),C=r(6463),P=r(9292),_=r(3594),A=e=>{let{parts:t,handlePartClick:r,categories:s,getLawByCategoryId:i}=e,[a,l]=(0,o.useState)({}),[c,d]=(0,o.useState)(),[h,u]=(0,o.useState)(!0),p=(0,C.useRouter)(),Z=e=>{l({}),l(t=>({...t,[e]:!t[e]}))},A=()=>{p.push("/adminAccount")},I=()=>{p.push("/editLaws")},L=()=>{p.push("/adminMenu")};return(0,n.jsxs)(x.Z,{children:[(0,n.jsxs)(g.Z,{onClick:()=>{A()},children:[(0,n.jsx)(w.Z,{children:(0,n.jsx)(y.Z,{})}),(0,n.jsx)(m.Z,{primary:"Dashboard"})]}),(0,n.jsxs)(g.Z,{onClick:()=>L(),children:[(0,n.jsx)(w.Z,{children:(0,n.jsx)(k.Z,{})}),(0,n.jsx)(m.Z,{primary:"Users"})]}),(0,n.jsxs)(g.Z,{onClick:()=>I(),children:[(0,n.jsx)(w.Z,{children:(0,n.jsx)(P.Z,{})}),(0,n.jsx)(m.Z,{primary:"Edit Laws"})]}),(0,n.jsxs)(g.Z,{onClick:()=>{u(!h)},children:[(0,n.jsx)(w.Z,{children:(0,n.jsx)(_.Z,{})}),(0,n.jsx)(m.Z,{primary:"Kushtetuta"}),h?(0,n.jsx)(b.Z,{}):(0,n.jsx)(S.Z,{})]}),(0,n.jsx)(v.Z,{in:h,timeout:500,unmountOnExit:!0,children:t.map(e=>(0,n.jsxs)(x.Z,{children:[(0,n.jsxs)(g.Z,{onClick:()=>{r&&r(e),Z(e.part_id)},children:[(0,n.jsx)(w.Z,{children:(0,n.jsx)(y.Z,{})}),(0,n.jsx)(f.Z,{title:e.part_title,arrow:!0,children:(0,n.jsx)(m.Z,{primary:e.part_title,sx:{overflow:"hidden",textOverflow:"ellipsis",maxWidth:"200px"}})}),a[e.part_id]?(0,n.jsx)(b.Z,{}):(0,n.jsx)(S.Z,{})]},e.part_id),(0,n.jsx)(v.Z,{in:a[e.part_id],timeout:500,unmountOnExit:!0,children:null==s?void 0:s.map(e=>(0,n.jsx)(j.Z,{onClick:()=>{i&&i(e)},component:"div",sx:{pl:4},disablePadding:!0,children:(0,n.jsx)(g.Z,{children:(0,n.jsx)(f.Z,{title:e.category_title,arrow:!0,children:(0,n.jsx)(m.Z,{primary:e.category_title,sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"wrap",maxWidth:"300px"}})})})},e.category_id))})]}))})]})},I=r(1781);let L=(0,d.ZP)(l.ZP,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:t,open:r}=e;return{"& .MuiDrawer-paper":{position:"absolute",whiteSpace:"nowrap",width:250,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box",...!r&&{overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7),[t.breakpoints.up("sm")]:{width:t.spacing(9)}}}}}),z=(0,d.ZP)(s.Z,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:t,open:r}=e;return{zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),...r&&{marginLeft:250,width:"calc(100% - ".concat(250,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})}}});var E=e=>{let{getLawByCategoryId:t,getAllLaws:r,categories:s,handlePartClick:l}=e,[d,g]=(0,o.useState)(!1),[w,m]=(0,o.useState)(),[y,f]=(0,o.useState)([]),v=async()=>{f(await I.Z.getAllParts(y))},b=()=>{g(!d)},S=()=>{m(JSON.parse(localStorage.getItem("user")))};return(0,o.useEffect)(()=>{S(),v()},[]),(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(z,{position:"absolute",open:d,children:(0,n.jsxs)(h.Z,{sx:{pr:"24px"},children:[(0,n.jsx)(u.Z,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:b,sx:{marginRight:"36px",...d&&{display:"none"}},children:(0,n.jsx)(a.Z,{})}),(0,n.jsxs)(p.Z,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:["Welcome ",null==w?void 0:w.user_name]}),(0,n.jsx)(i.Z,{})]})}),(0,n.jsxs)(L,{variant:"permanent",open:d,children:[(0,n.jsx)(h.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:(0,n.jsx)(u.Z,{onClick:b,children:(0,n.jsx)(c.Z,{})})}),(0,n.jsx)(Z.Z,{}),(0,n.jsxs)(j.Z,{component:"nav",children:[(0,n.jsx)(A,{handlePartClick:l,categories:s,getLawByCategoryId:t,getAllLaws:r,parts:y}),(0,n.jsx)(Z.Z,{sx:{my:1}})]})]})]})}},195:function(e,t,r){"use strict";r.d(t,{default:function(){return v}});var n=r(7437),s=r(2265),i=r(124),a=r(7999),o=r(9806),l=r(3719),c=r(2197),d=r(8433),x=r(8778),h=r(9951),u=r(2674),p=r(6645),Z=r(4691),j=r(7116),g=r(6351),w=r(8884),m=r(7300),y=r(7622),f=()=>{let[e,t]=(0,s.useState)([]),r=async()=>{t(await h.Z.getAllUsers(e))},i=async r=>{await h.Z.deleteUser(r),t(e.filter(e=>e.id!==r))};return(0,s.useEffect)(()=>{r()},[]),(0,n.jsx)(u.Z,{sx:{minHeight:440},children:(0,n.jsxs)(p.Z,{sx:{width:"100%"},children:[(0,n.jsx)(Z.Z,{children:(0,n.jsxs)(j.Z,{children:[(0,n.jsx)(g.Z,{sx:{fontSize:"20px"},align:"center",children:"ID"}),(0,n.jsx)(g.Z,{sx:{fontSize:"20px"},align:"center",children:"First Name"}),(0,n.jsx)(g.Z,{sx:{fontSize:"20px"},align:"center",children:"Last Name"}),(0,n.jsx)(g.Z,{sx:{fontSize:"20px"},align:"center",children:"Email"}),(0,n.jsx)(g.Z,{sx:{fontSize:"20px"},align:"center",children:"Password"})]})}),(0,n.jsx)(w.Z,{children:e.map(e=>(0,n.jsxs)(j.Z,{children:[(0,n.jsx)(g.Z,{sx:{fontSize:"20px"},children:(0,n.jsx)(l.Z,{children:e.id})}),(0,n.jsx)(g.Z,{children:(0,n.jsx)(l.Z,{children:e.user_name})}),(0,n.jsx)(g.Z,{children:(0,n.jsx)(l.Z,{children:e.last_name})}),(0,n.jsx)(g.Z,{children:(0,n.jsx)(l.Z,{children:e.email})}),(0,n.jsx)(g.Z,{children:(0,n.jsx)(l.Z,{children:e.password})}),(0,n.jsx)(g.Z,{children:(0,n.jsx)(m.Z,{onClick:()=>i(e.id),children:(0,n.jsx)(y.Z,{color:"error"})})})]},e.id))})]})})},v=()=>(0,n.jsxs)(a.Z,{sx:{display:"flex",width:"100%"},children:[(0,n.jsx)(i.ZP,{}),(0,n.jsx)(x.Z,{getAllLaws:void 0}),(0,n.jsxs)(a.Z,{component:"main",sx:{backgroundColor:e=>"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900],flexGrow:1,height:"100vh",overflow:"auto"},children:[(0,n.jsx)(o.Z,{}),(0,n.jsx)(c.Z,{maxWidth:"xl",sx:{mt:5,mb:5},children:(0,n.jsx)(d.ZP,{container:!0,spacing:1,children:(0,n.jsx)(d.ZP,{item:!0,xs:12,md:12,lg:12,xl:12,children:(0,n.jsxs)(a.Z,{sx:{p:2,display:"flex",flexDirection:"column",minHeight:240,boxShadow:10,backgroundColor:"white"},children:[(0,n.jsx)(l.Z,{variant:"h4",sx:{fontWeight:"bold",margin:"10px 30px",borderBottom:"1px black solid",paddingLeft:"15px"},children:"All Users"}),(0,n.jsx)(f,{})]})})})})]})]})},1862:function(e,t,r){"use strict";var n=r(7437),s=r(6463);t.default=e=>{let{children:t}=e;return(0,s.useRouter)(),(0,n.jsx)(n.Fragment,{children:t})}},639:function(e,t,r){"use strict";var n=r(7437),s=r(2265),i=r(7999),a=r(6548),o=r(3719),l=r(2118),c=r(6463);let d={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:450,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};t.Z=()=>{let[e,t]=(0,s.useState)(!1),r=(0,c.useRouter)(),x=()=>t(!1),h=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r.push("/")};return(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(a.Z,{color:"error",variant:"contained",onClick:()=>t(!0),children:"Logout"}),(0,n.jsx)(l.Z,{open:e,onClose:x,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,n.jsxs)(i.Z,{sx:d,children:[(0,n.jsx)(o.Z,{variant:"h6",sx:{margin:"20px auto",maxWidth:"320px",fontWeight:"bold"},children:"Are you sure you want to logout"}),(0,n.jsxs)(i.Z,{sx:{textAlign:"center"},children:[(0,n.jsx)(a.Z,{variant:"contained",color:"error",sx:{margin:"10px 45px"},onClick:()=>h(),children:"Yes"}),(0,n.jsx)(a.Z,{variant:"outlined",color:"error",sx:{margin:"10px 45px"},onClick:()=>x(),children:"No"})]})]})})]})}}},function(e){e.O(0,[417,666,454,304,411,951,971,23,744],function(){return e(e.s=4943)}),_N_E=e.O()}]);