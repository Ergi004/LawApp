(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{337:function(e,t,a){Promise.resolve().then(a.bind(a,6255)),Promise.resolve().then(a.bind(a,5218))},9951:function(e,t,a){"use strict";var s=a(3459);t.Z={register:async e=>{try{return(await s.Z.post("/users/register",e)).data}catch(e){throw e}},login:async e=>{try{console.log(e);let t=await s.Z.post("/users/login",e);return console.log(t.data),t.data}catch(e){throw e}},updateUser:async(e,t)=>{try{return(await s.Z.patch("/lawApp/users/update/".concat(t),{updateUser:e})).data}catch(e){throw e}},deleteUser:async e=>{try{return(await s.Z.delete("/users/delete/".concat(e))).data}catch(e){throw e}},getAllUsers:async e=>{try{return(await s.Z.get("/users/getAll",e)).data}catch(e){throw e}},getUserById:async e=>{try{return(await s.Z.get("/users/".concat(e))).data}catch(e){throw e}}}},3459:function(e,t,a){"use strict";let s=a(2126).Z.create({baseURL:"http://localhost:3006"});t.Z=s},6255:function(e,t,a){"use strict";var s=a(7437),r=a(2265),n=a(9875),o=a(6548),i=a(124),l=a(3251),c=a(4908),d=a(5786),u=a(1665),h=a(8433),m=a(7999),p=a(9618),x=a(3719),Z=a(2197),w=a(4050),g=a(1705),f=a(9951),y=a(6463),j=a(2126);t.default=()=>{let e=(0,y.useRouter)(),[t,a]=(0,r.useState)({email:"",password:""}),b=async a=>{a.preventDefault();try{console.log(t);let a=await f.Z.login(t),s=a.token,r=JSON.stringify(a.user);window.localStorage.setItem("user",r),window.localStorage.setItem("token",s),j.Z.defaults.headers.common.Authorization="Bearer ".concat(s);let n=a.user.role;return"Admin"===n?e.push("/adminAccount"):e.push("/account"),a}catch(e){console.error("login failed:")}},v=(0,w.Z)();return(0,s.jsx)(g.Z,{theme:v,children:(0,s.jsxs)(Z.Z,{component:"main",maxWidth:"sm",children:[(0,s.jsx)(i.ZP,{}),(0,s.jsxs)(m.Z,{sx:{marginTop:"200px",display:"flex",flexDirection:"column",alignItems:"center",boxShadow:6,padding:"50px"},children:[(0,s.jsx)(n.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,s.jsx)(p.Z,{})}),(0,s.jsx)(x.Z,{component:"h1",variant:"h5",children:"Login"}),(0,s.jsxs)(m.Z,{component:"form",noValidate:!0,onSubmit:b,sx:{mt:3},children:[(0,s.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,s.jsx)(h.ZP,{item:!0,xs:12,children:(0,s.jsx)(l.Z,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:t.email,onChange:e=>a(t=>({...t,email:e.target.value}))})}),(0,s.jsx)(h.ZP,{item:!0,xs:12,children:(0,s.jsx)(l.Z,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",value:t.password,onChange:e=>a(t=>({...t,password:e.target.value}))})}),(0,s.jsx)(h.ZP,{item:!0,xs:12,children:(0,s.jsx)(c.Z,{control:(0,s.jsx)(d.Z,{value:"allowExtraEmails",color:"primary"}),label:"Remember me"})})]}),(0,s.jsx)(o.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Login"}),(0,s.jsx)(h.ZP,{container:!0,justifyContent:"flex-end",children:(0,s.jsx)(h.ZP,{item:!0,children:(0,s.jsx)(u.Z,{href:"/signup",children:"Don't have an account? Sign up"})})})]})]})]})})}}},function(e){e.O(0,[417,666,454,123,251,808,971,23,744],function(){return e(e.s=337)}),_N_E=e.O()}]);