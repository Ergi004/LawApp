"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[403],{3459:function(t,e,a){let r=a(2126).Z.create({baseURL:"http://localhost:3006"});e.Z=r},5855:function(t,e,a){var r=a(3459);e.Z={createCategory:async t=>{try{return(await r.Z.post("/category/create",t)).data}catch(t){throw t}},getAllCategories:async t=>{try{return(await r.Z.get("/category/getAll",t)).data.data}catch(t){throw t}},getCategoryById:async t=>{try{return r.Z.get("/category/".concat(t))}catch(t){throw t}},getCategoryByPartId:async t=>{try{return await r.Z.get("/category/findBy/".concat(t))}catch(t){throw t}},updateCategory:async(t,e)=>{try{return r.Z.patch("/category/update/".concat(t),e)}catch(t){throw t}},deleteCategory:async t=>{try{return r.Z.delete("/category/delete/".concat(t))}catch(t){throw t}}}},1781:function(t,e,a){var r=a(3459);e.Z={createPart:async t=>{try{return(await r.Z.post("/parts/create",t)).data}catch(t){throw t}},getAllParts:async t=>{try{return(await r.Z.get("/parts/getAll",t)).data.data}catch(t){throw t}},getPartBtId:async t=>{try{return await r.Z.get("/parts/".concat(t))}catch(t){throw t}},updatePart:async(t,e)=>{try{return await r.Z.patch("/parts/update/".concat(t),e)}catch(t){throw t}},deletePart:async t=>{try{return await r.Z.delete("/parts/delete/".concat(t))}catch(t){throw t}}}},8778:function(t,e,a){a.d(e,{Z:function(){return B}});var r=a(7437),n=a(1733),i=a(639),s=a(9504),o=a(2265),c=a(8438),l=a(8379),d=a(8024),h=a(7999),u=a(9806),p=a(335),x=a(511),g=a(2030),Z=a(2184),j=a(7300),w=a(3726),y=a(3597),m=a(4944),v=a(9216),C=a(6424),f=a(8125),b=a(5481),k=a(6463),S=a(9292),P=a(3594),_=t=>{let{parts:e,handlePartClick:a,categories:n,getLawByCategoryId:i}=t,[s,c]=(0,o.useState)({}),[l,d]=(0,o.useState)(!0),u=(0,k.useRouter)(),p=t=>{c([]),c(e=>({...e,[t]:!e[t]}))},g=()=>{u.push("/adminAccount")},_=()=>{u.push("/editLaws")},I=()=>{u.push("/adminMenu")};return(0,r.jsxs)(h.Z,{children:[(0,r.jsxs)(j.Z,{onClick:()=>{g()},children:[(0,r.jsx)(w.Z,{children:(0,r.jsx)(m.Z,{})}),(0,r.jsx)(y.Z,{primary:"Dashboard"})]}),(0,r.jsxs)(j.Z,{onClick:()=>I(),children:[(0,r.jsx)(w.Z,{children:(0,r.jsx)(b.Z,{})}),(0,r.jsx)(y.Z,{primary:"Users"})]}),(0,r.jsxs)(j.Z,{onClick:()=>_(),children:[(0,r.jsx)(w.Z,{children:(0,r.jsx)(S.Z,{})}),(0,r.jsx)(y.Z,{primary:"Edit Laws"})]}),(0,r.jsxs)(j.Z,{onClick:()=>{d(!l)},children:[(0,r.jsx)(w.Z,{children:(0,r.jsx)(P.Z,{})}),(0,r.jsx)(y.Z,{primary:"Kushtetuta"}),l?(0,r.jsx)(C.Z,{}):(0,r.jsx)(f.Z,{})]}),(0,r.jsx)(v.Z,{in:l,timeout:500,unmountOnExit:!0,children:e.map(t=>(0,r.jsxs)(h.Z,{children:[(0,r.jsxs)(j.Z,{onClick:()=>{a&&a(t),p(t.part_id)},children:[(0,r.jsx)(w.Z,{children:(0,r.jsx)(m.Z,{})}),(0,r.jsx)(y.Z,{primary:(t.part_id,t.part_title)}),(0,r.jsxs)(x.Z,{variant:"h6",children:["ID:",t.part_id]}),s[t.part_id]?(0,r.jsx)(C.Z,{}):(0,r.jsx)(f.Z,{})]},t.part_id),(0,r.jsx)(v.Z,{in:s[t.part_id],timeout:500,unmountOnExit:!0,children:n.map(t=>(0,r.jsx)(Z.Z,{onClick:()=>{i&&i(t)},component:"div",disablePadding:!0,children:(0,r.jsxs)(j.Z,{sx:{pl:4},children:[(0,r.jsx)(y.Z,{primary:t.category_title}),(0,r.jsxs)(x.Z,{variant:"h6",children:["ID:",t.category_id]})]})},t.category_id))})]}))})]})},I=a(1426),L=a(5855),A=a(1781);let E=(0,d.ZP)(c.ZP,{shouldForwardProp:t=>"open"!==t})(t=>{let{theme:e,open:a}=t;return{"& .MuiDrawer-paper":{position:"relative",whiteSpace:"nowrap",width:350,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),boxSizing:"border-box",...!a&&{overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7),[e.breakpoints.up("sm")]:{width:e.spacing(9)}}}}}),R=(0,d.ZP)(n.Z,{shouldForwardProp:t=>"open"!==t})(t=>{let{theme:e,open:a}=t;return{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),...a&&{marginLeft:350,width:"calc(100% - ".concat(350,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})}}});var B=t=>{let{getLawByCategoryId:e,getAllLaws:a,myLaws:n,setMyLaws:c}=t,[d,j]=(0,o.useState)(!0),[w,y]=(0,o.useState)(),[m,v]=(0,o.useState)([]),[C,f]=(0,o.useState)([]),b=async()=>{f(await A.Z.getAllParts(C))},k=async t=>{v((await L.Z.getCategoryByPartId(t.part_id)).data.data)},S=()=>{j(!d)},P=()=>{y(JSON.parse(localStorage.getItem("user")))};return(0,o.useEffect)(()=>{P(),b()},[]),(0,r.jsxs)(h.Z,{children:[(0,r.jsx)(R,{position:"absolute",open:d,children:(0,r.jsxs)(u.Z,{sx:{pr:"24px"},children:[(0,r.jsx)(p.Z,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:S,sx:{marginRight:"36px",...d&&{display:"none"}},children:(0,r.jsx)(s.Z,{})}),(0,r.jsxs)(x.Z,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:["Welcome ",null==w?void 0:w.user_name]}),(0,r.jsx)(I.Z,{myLaws:n,setMyLaws:c}),(0,r.jsx)(i.Z,{})]})}),(0,r.jsxs)(E,{variant:"permanent",open:d,children:[(0,r.jsx)(u.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:(0,r.jsx)(p.Z,{onClick:S,children:(0,r.jsx)(l.Z,{})})}),(0,r.jsx)(g.Z,{}),(0,r.jsxs)(Z.Z,{component:"nav",children:[(0,r.jsx)(_,{handlePartClick:k,categories:m,getLawByCategoryId:e,getAllLaws:a,parts:C}),(0,r.jsx)(g.Z,{sx:{my:1}})]})]})]})}},1862:function(t,e,a){var r=a(7437),n=a(6463),i=a(2265);e.default=t=>{let{children:e}=t,a=(0,n.useRouter)();return(0,i.useEffect)(()=>{window.localStorage.getItem("token")||a.push("/")},[a]),(0,r.jsx)(r.Fragment,{children:e})}},639:function(t,e,a){var r=a(7437),n=a(2265),i=a(7999),s=a(6548),o=a(511),c=a(2118),l=a(6463);let d={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:450,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};e.Z=()=>{let[t,e]=(0,n.useState)(!1),a=(0,l.useRouter)(),h=()=>e(!1),u=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),a.push("/")};return(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(s.Z,{color:"error",variant:"contained",onClick:()=>e(!0),children:"Logout"}),(0,r.jsx)(c.Z,{open:t,onClose:h,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsxs)(i.Z,{sx:d,children:[(0,r.jsx)(o.Z,{variant:"h6",sx:{margin:"20px auto",maxWidth:"320px",fontWeight:"bold"},children:"Are you sure you want to logout"}),(0,r.jsxs)(i.Z,{sx:{textAlign:"center"},children:[(0,r.jsx)(s.Z,{variant:"contained",color:"error",sx:{margin:"10px 45px"},onClick:()=>u(),children:"Yes"}),(0,r.jsx)(s.Z,{variant:"outlined",color:"error",sx:{margin:"10px 45px"},onClick:()=>h(),children:"No"})]})]})})]})}},1426:function(t,e,a){var r=a(7437),n=a(2265),i=a(8024),s=a(6605),o=a(2305),c=a(7699);let l=(0,i.ZP)(s.ZP)(t=>{let{theme:e}=t;return{color:"inherit","& .MuiInputBase-input":{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),")"),transition:e.transitions.create("width"),width:"100%",[e.breakpoints.up("md")]:{width:"20ch"}}}}),d=(0,i.ZP)("div")(t=>{let{theme:e}=t;return{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:(0,o.Fq)(e.palette.common.white,.15),"&:hover":{backgroundColor:(0,o.Fq)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%",[e.breakpoints.up("sm")]:{marginLeft:e.spacing(3),width:"auto"}}}),h=(0,i.ZP)("div")(t=>{let{theme:e}=t;return{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}});e.Z=t=>{let{myLaws:e,setMyLaws:a}=t,[i,s]=(0,n.useState)({name:""});return(0,r.jsxs)(d,{children:[(0,r.jsx)(h,{children:(0,r.jsx)(c.Z,{})}),(0,r.jsx)(l,{placeholder:"Searchâ€¦",inputProps:{"aria-label":"search"},value:i.value,onChange:t=>{console.log(e);let r=t.target.value;a(e.filter(t=>t.law_name.toLowerCase().includes(r.toLowerCase())||t.law_description.toLowerCase().includes(r.toLowerCase())))}})]})}}}]);